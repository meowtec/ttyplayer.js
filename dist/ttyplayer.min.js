!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.TTYPlayer=e():t.TTYPlayer=e()}(this,function(){return function(t){function e(i){if(s[i])return s[i].exports;var r=s[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var s={};return e.m=t,e.c=s,e.p="/dist",e(0)}([function(t,e,s){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=s(8),a=i(r);t.exports=a["default"]},function(t,e){"use strict";function s(t){return"[object Array]"===c.call(t)}function i(t){return"string"==typeof t}function r(t,e){for(var s in e)h.call(e,s)&&(t[s]=e[s]);return t}function a(t,e,s){return decodeURIComponent(escape(String.fromCharCode.apply(null,new Uint8Array(t,e,s))))}function o(t,e){var s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType="arraybuffer",s.send();var i=new Error("XMLHttpRequest error.");s.onload=function(t){return/^2/.test(s.status)?void e(null,s.response):e(i)},s.onerror=function(t){return e(i)}}function n(t){l.innerHTML=t;for(var e=l.querySelectorAll("[ref]"),s={},i=0,r=e.length;i<r;i++){var a=e[i],o=a.getAttribute("ref");a.removeAttribute("ref"),s[o]=a}return{refs:s,element:l.children[0]}}function f(t,e){for(var s=t;s&&s!==document;){if(e(s))return s;s=s.parentNode}}e.__esModule=!0,e.isArray=s,e.isString=i,e.assign=r,e.readUtf8=a,e.fetchArrayBuffer=o,e.element=n,e.closet=f;var h=Object.prototype.hasOwnProperty,c=Object.prototype.toString,l=document.createElement("div")},function(t,e,s){"use strict";e.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};s(5),s(11),e["default"]=function(){function t(){this._events=this._events||{}}function e(t,e,s,i){this.terminal=t,this.viewportElement=e,this.scrollArea=s,this.charMeasureElement=i,this.currentRowHeight=0,this.lastRecordedBufferLength=0,this.lastRecordedViewportHeight=0,this.terminal.on("scroll",this.syncScrollArea.bind(this)),this.terminal.on("resize",this.syncScrollArea.bind(this)),this.viewportElement.addEventListener("scroll",this.onScroll.bind(this)),this.syncScrollArea()}function s(e){var i=this;if(!(this instanceof s))return new s(arguments[0],arguments[1],arguments[2]);i.cancel=s.cancel,t.call(this),"number"==typeof e&&(e={cols:arguments[0],rows:arguments[1],handler:arguments[2]}),e=e||{},Object.keys(s.defaults).forEach(function(t){null==e[t]&&(e[t]=s.options[t],s[t]!==s.defaults[t]&&(e[t]=s[t])),i[t]=e[t]}),8===e.colors.length?e.colors=e.colors.concat(s._colors.slice(8)):16===e.colors.length?e.colors=e.colors.concat(s._colors.slice(16)):10===e.colors.length?e.colors=e.colors.slice(0,-2).concat(s._colors.slice(8,-2),e.colors.slice(-2)):18===e.colors.length&&(e.colors=e.colors.concat(s._colors.slice(16,-2),e.colors.slice(-2))),this.colors=e.colors,this.options=e,this.parent=e.body||e.parent||(u?u.getElementsByTagName("body")[0]:null),this.cols=e.cols||e.geometry[0],this.rows=e.rows||e.geometry[1],e.handler&&this.on("data",e.handler),this.ybase=0,this.ydisp=0,this.x=0,this.y=0,this.isRefreshing=!1,this.cursorState=0,this.cursorHidden=!1,this.convertEol,this.state=0,this.queue="",this.scrollTop=0,this.scrollBottom=this.rows-1,this.customKeydownHandler=null,this.applicationKeypad=!1,this.applicationCursor=!1,this.originMode=!1,this.insertMode=!1,this.wraparoundMode=!0,this.normal=null,this.charset=null,this.gcharset=null,this.glevel=0,this.charsets=[null],this.decLocator,this.x10Mouse,this.vt200Mouse,this.vt300Mouse,this.normalMouse,this.mouseEvents,this.sendFocus,this.utfMouse,this.sgrMouse,this.urxvtMouse,this.element,this.children,this.refreshStart,this.refreshEnd,this.savedX,this.savedY,this.savedCols,this.readable=!0,this.writable=!0,this.defAttr=131840,this.curAttr=this.defAttr,this.params=[],this.currentParam=0,this.prefix="",this.postfix="",this.surrogate_high="",this.lines=[];for(var r=this.rows;r--;)this.lines.push(this.blankLine());this.tabs,this.setupStops()}function r(t,e){for(var s=0;s<e.length;s+=1)if(t===e[s])return!0;return!1}function a(t,e,s,i){Array.isArray(t)||(t=[t]),t.forEach(function(t){t.addEventListener(e,s,i||!1)})}function o(t,e,s,i){t.removeEventListener(e,s,i||!1)}function n(t,e){if(this.cancelEvents||e)return t.preventDefault(),t.stopPropagation(),!1}function f(t,e){function s(){this.constructor=t}s.prototype=e.prototype,t.prototype=new s}function h(t){var e=t.getElementsByTagName("body")[0],s=t.createElement("span");s.innerHTML="hello world",e.appendChild(s);var i=s.scrollWidth;s.style.fontWeight="bold";var r=s.scrollWidth;return e.removeChild(s),i!==r}function c(t,e,i){var r=t<<16|e<<8|i;if(null!=c._cache[r])return c._cache[r];for(var a,o,n,f,h,l=1/0,p=-1,u=0;u<s.vcolors.length;u++){if(a=s.vcolors[u],o=a[0],n=a[1],f=a[2],h=c.distance(t,e,i,o,n,f),0===h){p=u;break}h<l&&(l=h,p=u)}return c._cache[r]=p}function l(t,e,s){if(t.forEach)return t.forEach(e,s);for(var i=0;i<t.length;i++)e.call(s,t[i],i,t)}function p(t){if(Object.keys)return Object.keys(t);var e,s=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&s.push(e);return s}var u=this.document;t.prototype.addListener=function(t,e){this._events[t]=this._events[t]||[],this._events[t].push(e)},t.prototype.on=t.prototype.addListener,t.prototype.removeListener=function(t,e){if(this._events[t])for(var s=this._events[t],i=s.length;i--;)if(s[i]===e||s[i].listener===e)return void s.splice(i,1)},t.prototype.off=t.prototype.removeListener,t.prototype.removeAllListeners=function(t){this._events[t]&&delete this._events[t]},t.prototype.once=function(t,e){function s(){var i=Array.prototype.slice.call(arguments);return this.removeListener(t,s),e.apply(this,i)}return s.listener=e,this.on(t,s)},t.prototype.emit=function(t){if(this._events[t])for(var e=Array.prototype.slice.call(arguments,1),s=this._events[t],i=s.length,r=0;r<i;r++)s[r].apply(this,e)},t.prototype.listeners=function(t){return this._events[t]=this._events[t]||[]},e.prototype.refresh=function(t){var e=t||this.charMeasureElement.getBoundingClientRect();e.height>0&&(e.height!==this.currentRowHeight&&(this.currentRowHeight=e.height,this.viewportElement.style.lineHeight=e.height+"px",this.terminal.rowContainer.style.lineHeight=e.height+"px"),this.lastRecordedViewportHeight!==this.terminal.rows&&(this.lastRecordedViewportHeight=this.terminal.rows,this.viewportElement.style.height=e.height*this.terminal.rows+"px"),this.scrollArea.style.height=e.height*this.lastRecordedBufferLength+"px")},e.prototype.syncScrollArea=function(){if(this.isApplicationMode)return this.lastRecordedBufferLength=this.terminal.rows,void this.refresh();if(this.lastRecordedBufferLength!==this.terminal.lines.length)this.lastRecordedBufferLength=this.terminal.lines.length,this.refresh();else if(this.lastRecordedViewportHeight!==this.terminal.rows)this.refresh();else{var t=this.charMeasureElement.getBoundingClientRect();t.height!==this.currentRowHeight&&this.refresh(t)}var e=this.terminal.ydisp*this.currentRowHeight;this.viewportElement.scrollTop!==e&&(this.viewportElement.scrollTop=e)},e.prototype.setApplicationMode=function(t){this.isApplicationMode=t,this.syncScrollArea()},e.prototype.onScroll=function(t){var e=Math.round(this.viewportElement.scrollTop/this.currentRowHeight),s=e-this.terminal.ydisp;this.terminal.scrollDisp(s,!0)},e.prototype.onWheel=function(t){if(0!==t.deltaY){var e=1;t.deltaMode===WheelEvent.DOM_DELTA_LINE?e=this.currentRowHeight:t.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(e=this.currentRowHeight*this.terminal.rows),this.viewportElement.scrollTop+=t.deltaY*e,t.preventDefault()}};var d=0,y=1,b=2,m=3,v=4,g=5,w=6;f(s,t),s.prototype.eraseAttr=function(){return this.defAttr&-512|511&this.curAttr},s.tangoColors=["#2e3436","#cc0000","#4e9a06","#c4a000","#3465a4","#75507b","#06989a","#d3d7cf","#555753","#ef2929","#8ae234","#fce94f","#729fcf","#ad7fa8","#34e2e2","#eeeeec"],s.colors=function(){function t(t,s,i){r.push("#"+e(t)+e(s)+e(i))}function e(t){return t=t.toString(16),t.length<2?"0"+t:t}var i,r=s.tangoColors.slice(),a=[0,95,135,175,215,255];for(i=0;i<216;i++)t(a[i/36%6|0],a[i/6%6|0],a[i%6]);for(i=0;i<24;i++)a=8+10*i,t(a,a,a);return r}(),s._colors=s.colors.slice(),s.vcolors=function(){for(var t,e=[],i=s.colors,r=0;r<256;r++)t=parseInt(i[r].substring(1),16),e.push([t>>16&255,t>>8&255,255&t]);return e}(),s.defaults={colors:s.colors,theme:"default",convertEol:!1,termName:"xterm",geometry:[80,24],cursorBlink:!1,visualBell:!1,popOnBell:!1,scrollback:1e3,screenKeys:!1,debug:!1,cancelEvents:!1},s.options={},s.focus=null,l(p(s.defaults),function(t){s[t]=s.defaults[t],s.options[t]=s.defaults[t]}),s.prototype.focus=function(){},s.prototype.blur=function(){return this.textarea.blur()},s.prototype.initGlobal=function(){var t=this;k(function(){t.send("[I"),t.element.classList.add("focus"),t.showCursor()})},s.prepareCopiedTextForClipboard=function(t){var e=x.fromCharCode(32),s=x.fromCharCode(160),i=new RegExp(s,"g"),r=t.split("\n").map(function(t){var s=t.replace(/\s+$/g,"").replace(i,e);return s}).join("\n");return r},s.prototype.insertRow=function(t){return"object"!=("undefined"==typeof t?"undefined":i(t))&&(t=u.createElement("div")),this.rowContainer.appendChild(t),this.children.push(t),t},s.prototype.open=function(t){var i=0;if(this.parent=t||this.parent,!this.parent)throw new Error("Terminal requires a parent element.");for(this.context=this.parent.ownerDocument.defaultView,this.document=this.parent.ownerDocument,this.body=this.document.getElementsByTagName("body")[0],this.context.navigator&&this.context.navigator.userAgent&&(this.isMSIE=!!~this.context.navigator.userAgent.indexOf("MSIE")),this.context.navigator&&this.context.navigator.platform&&(this.isMac=r(this.context.navigator.platform,["Macintosh","MacIntel","MacPPC","Mac68K"]),this.isIpad="iPad"===this.context.navigator.platform,this.isIphone="iPhone"===this.context.navigator.platform,this.isMSWindows=r(this.context.navigator.platform,["Windows","Win16","Win32","WinCE"])),this.element=this.document.createElement("div"),this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.classList.add("xterm-theme-"+this.theme),this.element.style.height,this.element.setAttribute("tabindex",0),this.viewportElement=u.createElement("div"),this.viewportElement.classList.add("xterm-viewport"),this.element.appendChild(this.viewportElement),this.viewportScrollArea=u.createElement("div"),this.viewportScrollArea.classList.add("xterm-scroll-area"),this.viewportElement.appendChild(this.viewportScrollArea),this.rowContainer=u.createElement("div"),this.rowContainer.classList.add("xterm-rows"),this.element.appendChild(this.rowContainer),this.children=[],this.helperContainer=u.createElement("div"),this.helperContainer.classList.add("xterm-helpers"),this.element.appendChild(this.helperContainer),this.textarea=u.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.helperContainer.appendChild(this.textarea),this.compositionView=u.createElement("div"),this.compositionView.classList.add("composition-view"),this.helperContainer.appendChild(this.compositionView),this.charMeasureElement=u.createElement("div"),this.charMeasureElement.classList.add("xterm-char-measure-element"),this.charMeasureElement.innerHTML="W",this.helperContainer.appendChild(this.charMeasureElement);i<this.rows;i++)this.insertRow();this.parent.appendChild(this.element),this.viewport=new e(this,this.viewportElement,this.viewportScrollArea,this.charMeasureElement),this.refresh(0,this.rows-1),this.initGlobal(),this.focus(),null==s.brokenBold&&(s.brokenBold=h(this.document)),this.emit("open")},s.prototype.destroy=function(){this.readable=!1,this.writable=!1,this._events={},this.handler=function(){},this.write=function(){},this.element.parentNode&&this.element.parentNode.removeChild(this.element)},s.flags={BOLD:1,UNDERLINE:2,BLINK:4,INVERSE:8,INVISIBLE:16},s.prototype.refresh=function(t,e,i){var r=this;if(i="undefined"==typeof i||i)return void(this._refreshIsQueued?this._fullRefreshNext=!0:(k(function(){r.refresh(t,e,!1)},34),this._refreshIsQueued=!0));this._refreshIsQueued=!1,this._fullRefreshNext&&(t=0,e=this.rows-1,this._fullRefreshNext=!1);var a,o,n,f,h,c,l,p,d,y,b,m,v,g,w;u.activeElement;for(e-t>=this.rows/2&&(w=this.element.parentNode,w&&this.element.removeChild(this.rowContainer)),p=this.cols,o=t,e>=this.rows.length&&(this.log("`end` is too large. Most likely a bad CSR."),e=this.rows.length-1);o<=e;o++){for(g=o+this.ydisp,f=this.lines[g],h="",a=this.y===o-(this.ybase-this.ydisp)&&this.cursorState&&!this.cursorHidden?this.x:-1,y=this.defAttr,n=0;n<p;n++)if(d=f[n][0],c=f[n][1],l=f[n][2]){if(n===a&&(d=-1),d!==y&&(y!==this.defAttr&&(h+="</span>"),d!==this.defAttr))if(d===-1)h+='<span class="reverse-video terminal-cursor',this.cursorBlink&&(h+=" blinking"),h+='">';else{var x=[];b=511&d,m=d>>9&511,v=d>>18,v&s.flags.BOLD&&(s.brokenBold||x.push("xterm-bold"),m<8&&(m+=8)),v&s.flags.UNDERLINE&&x.push("xterm-underline"),v&s.flags.BLINK&&x.push("xterm-blink"),v&s.flags.INVERSE&&(b=[m,m=b][0],1&v&&m<8&&(m+=8)),v&s.flags.INVISIBLE&&x.push("xterm-hidden"),v&s.flags.INVERSE&&(257==b&&(b=15),256==m&&(m=0)),b<256&&x.push("xbg-"+b),m<256&&x.push("xc-"+m),h+="<span",x.length&&(h+=' class="'+x.join(" ")+'"'),h+=">"}switch(c){case"&":h+="&amp;";break;case"<":h+="&lt;";break;case">":h+="&gt;";break;default:h+=c<=" "?"&nbsp;":c}y=d}y!==this.defAttr&&(h+="</span>"),this.children[o].innerHTML=h}w&&this.element.appendChild(this.rowContainer),this.emit("refresh",{element:this.element,start:t,end:e})},s.prototype.showCursor=function(){this.cursorState||(this.cursorState=1,this.refresh(this.y,this.y))},s.prototype.scroll=function(){var t;++this.ybase===this.scrollback&&(this.ybase=this.ybase/2|0,this.lines=this.lines.slice(-(this.ybase+this.rows)+1)),this.ydisp=this.ybase,t=this.ybase+this.rows-1,t-=this.rows-1-this.scrollBottom,t===this.lines.length?this.lines.push(this.blankLine()):this.lines.splice(t,0,this.blankLine()),0!==this.scrollTop&&(0!==this.ybase&&(this.ybase--,this.ydisp=this.ybase),this.lines.splice(this.ybase+this.scrollTop,1)),this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom),this.emit("scroll",this.ydisp)},s.prototype.scrollDisp=function(t,e){this.ydisp+=t,this.ydisp>this.ybase?this.ydisp=this.ybase:this.ydisp<0&&(this.ydisp=0),e||this.emit("scroll",this.ydisp),this.refresh(0,this.rows-1)},s.prototype.write=function(t){var e,i,r,a,o,n,f=t.length,h=0;for(this.refreshStart=this.y,this.refreshEnd=this.y,this.ybase!==this.ydisp&&(this.ydisp=this.ybase,this.emit("scroll",this.ydisp),this.maxRange()),this.surrogate_high&&(t=this.surrogate_high+t,this.surrogate_high="");h<f;h++){if(i=t[h],r=t.charCodeAt(h),55296<=r&&r<=56319){if(a=t.charCodeAt(h+1),isNaN(a)){this.surrogate_high=i;continue}r=1024*(r-55296)+(a-56320)+65536,i+=t.charAt(h+1)}if(!(56320<=r&&r<=57343))switch(this.state){case d:switch(i){case"":this.bell();break;case"\n":case"\x0B":case"\f":this.convertEol&&(this.x=0),this.y++,this.y>this.scrollBottom&&(this.y--,this.scroll());break;case"\r":this.x=0;break;case"\b":this.x>0&&this.x--;break;case"\t":this.x=this.nextStop();break;case"":this.setgLevel(1);break;case"":this.setgLevel(0);break;case"":this.state=y;break;default:if(o=E(r),i>=" "){if(this.charset&&this.charset[i]&&(i=this.charset[i]),n=this.y+this.ybase,!o&&this.x){this.lines[n][this.x-1]&&(this.lines[n][this.x-1][2]?this.lines[n][this.x-1][1]+=i:this.lines[n][this.x-2]&&(this.lines[n][this.x-2][1]+=i),this.updateRange(this.y));break}if(this.x+o-1>=this.cols)if(this.wraparoundMode)this.x=0,this.y++,this.y>this.scrollBottom&&(this.y--,this.scroll());else if(this.x=this.cols-1,2===o)continue;if(n=this.y+this.ybase,this.insertMode)for(var c=0;c<o;++c){var l=this.lines[this.y+this.ybase].pop();0===l[2]&&this.lines[n][this.cols-2]&&2===this.lines[n][this.cols-2][2]&&(this.lines[n][this.cols-2]=[this.curAttr," ",1]),this.lines[n].splice(this.x,0,[this.curAttr," ",1])}this.lines[n][this.x]=[this.curAttr,i,o],this.x++,this.updateRange(this.y),2===o&&(this.lines[n][this.x]=[this.curAttr,"",0],this.x++)}}break;case y:switch(i){case"[":this.params=[],this.currentParam=0,this.state=b;break;case"]":this.params=[],this.currentParam=0,this.state=m;break;case"P":this.params=[],this.currentParam=0,this.state=g;break;case"_":this.state=w;break;case"^":this.state=w;break;case"c":this.reset();break;case"E":this.x=0;case"D":this.index();break;case"M":this.reverseIndex();break;case"%":this.setgLevel(0),this.setgCharset(0,s.charsets.US),this.state=d,h++;break;case"(":case")":case"*":case"+":case"-":case".":switch(i){case"(":this.gcharset=0;break;case")":this.gcharset=1;break;case"*":this.gcharset=2;break;case"+":this.gcharset=3;break;case"-":this.gcharset=1;break;case".":this.gcharset=2}this.state=v;break;case"/":this.gcharset=3,this.state=v,h--;break;case"N":break;case"O":break;case"n":this.setgLevel(2);break;case"o":this.setgLevel(3);break;case"|":this.setgLevel(3);break;case"}":this.setgLevel(2);break;case"~":this.setgLevel(1);break;case"7":this.saveCursor(),this.state=d;break;case"8":this.restoreCursor(),this.state=d;break;case"#":this.state=d,h++;break;case"H":this.tabSet();break;case"=":this.log("Serial port requested application keypad."),this.applicationKeypad=!0,this.viewport.setApplicationMode(!0),this.state=d;break;case">":this.log("Switching back to normal keypad."),this.applicationKeypad=!1,this.viewport.setApplicationMode(!1),this.state=d;break;default:this.state=d,this.error("Unknown ESC control: %s.",i)}break;case v:switch(i){case"0":e=s.charsets.SCLD;break;case"A":e=s.charsets.UK;break;case"B":e=s.charsets.US;break;case"4":e=s.charsets.Dutch;break;case"C":case"5":e=s.charsets.Finnish;break;case"R":e=s.charsets.French;break;case"Q":e=s.charsets.FrenchCanadian;break;case"K":e=s.charsets.German;break;case"Y":e=s.charsets.Italian;break;case"E":case"6":e=s.charsets.NorwegianDanish;break;case"Z":e=s.charsets.Spanish;break;case"H":case"7":e=s.charsets.Swedish;break;case"=":e=s.charsets.Swiss;break;case"/":e=s.charsets.ISOLatin,h++;break;default:e=s.charsets.US}this.setgCharset(this.gcharset,e),this.gcharset=null,this.state=d;break;case m:if(""===i||""===i){switch(""===i&&h++,this.params.push(this.currentParam),this.params[0]){case 0:case 1:case 2:this.params[1]&&(this.title=this.params[1],this.handleTitle(this.title));break;case 3:break;case 4:case 5:break;case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:break;case 46:break;case 50:break;case 51:break;case 52:break;case 104:case 105:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:}this.params=[],this.currentParam=0,this.state=d}else this.params.length?this.currentParam+=i:i>="0"&&i<="9"?this.currentParam=10*this.currentParam+i.charCodeAt(0)-48:";"===i&&(this.params.push(this.currentParam),this.currentParam="");break;case b:if("?"===i||">"===i||"!"===i){this.prefix=i;break}if(i>="0"&&i<="9"){this.currentParam=10*this.currentParam+i.charCodeAt(0)-48;break}if("$"===i||'"'===i||" "===i||"'"===i){this.postfix=i;break}if(this.params.push(this.currentParam),this.currentParam=0,";"===i)break;switch(this.state=d,i){case"A":this.cursorUp(this.params);break;case"B":this.cursorDown(this.params);break;case"C":this.cursorForward(this.params);break;case"D":this.cursorBackward(this.params);break;case"H":this.cursorPos(this.params);break;case"J":this.eraseInDisplay(this.params);break;case"K":this.eraseInLine(this.params);break;case"m":this.prefix||this.charAttributes(this.params);break;case"n":this.prefix||this.deviceStatus(this.params);break;case"@":this.insertChars(this.params);break;case"E":this.cursorNextLine(this.params);break;case"F":this.cursorPrecedingLine(this.params);break;case"G":this.cursorCharAbsolute(this.params);break;case"L":this.insertLines(this.params);break;case"M":this.deleteLines(this.params);break;case"P":this.deleteChars(this.params);break;case"X":this.eraseChars(this.params);break;case"`":this.charPosAbsolute(this.params);break;case"a":this.HPositionRelative(this.params);break;case"c":this.sendDeviceAttributes(this.params);break;case"d":this.linePosAbsolute(this.params);break;case"e":this.VPositionRelative(this.params);break;case"f":this.HVPosition(this.params);break;case"h":break;case"l":break;case"r":this.setScrollRegion(this.params);break;case"s":this.saveCursor(this.params);break;case"u":this.restoreCursor(this.params);break;case"I":this.cursorForwardTab(this.params);break;case"S":this.scrollUp(this.params);break;case"T":this.params.length<2&&!this.prefix&&this.scrollDown(this.params);break;case"Z":this.cursorBackwardTab(this.params);break;case"b":this.repeatPrecedingCharacter(this.params);break;case"g":this.tabClear(this.params);break;case"p":switch(this.prefix){case"!":this.softReset(this.params)}break;default:this.error("Unknown CSI code: %s.",i)}this.prefix="",this.postfix="";break;case g:if(""===i||""===i){switch(""===i&&h++,this.prefix){case"":break;case"$q":var p=this.currentParam,u=!1;switch(p){case'"q':p='0"q';break;case'"p':p='61"p';break;case"r":p=""+(this.scrollTop+1)+";"+(this.scrollBottom+1)+"r";break;case"m":p="0m";break;default:this.error("Unknown DCS Pt: %s.",p),p=""}this.send("P"+ +u+"$r"+p+"\\");break;case"+p":break;case"+q":var p=this.currentParam,u=!1;this.send("P"+ +u+"+r"+p+"\\");break;default:this.error("Unknown DCS prefix: %s.",this.prefix)}this.currentParam=0,this.prefix="",this.state=d}else this.currentParam?this.currentParam+=i:this.prefix||"$"===i||"+"===i?2===this.prefix.length?this.currentParam=i:this.prefix+=i:this.currentParam=i;break;case w:""!==i&&""!==i||(""===i&&h++,this.state=d)}}this.updateRange(this.y),this.refresh(this.refreshStart,this.refreshEnd)},s.prototype.writeln=function(t){this.write(t+"\r\n")},s.prototype.attachCustomKeydownHandler=function(t){this.customKeydownHandler=t},s.prototype.setgLevel=function(t){this.glevel=t,this.charset=this.charsets[t]},s.prototype.setgCharset=function(t,e){this.charsets[t]=e,this.glevel===t&&(this.charset=e)},s.prototype.send=function(t){var e=this;this.queue||k(function(){e.handler(e.queue),e.queue=""},1),this.queue+=t},s.prototype.bell=function(){if(this.visualBell){var t=this;this.element.style.borderColor="white",k(function(){t.element.style.borderColor=""},10),this.popOnBell&&this.focus()}},s.prototype.log=function(){if(this.debug&&this.context.console&&this.context.console.log){var t=Array.prototype.slice.call(arguments);this.context.console.log.apply(this.context.console,t)}},s.prototype.error=function(){if(this.debug&&this.context.console&&this.context.console.error){var t=Array.prototype.slice.call(arguments);this.context.console.error.apply(this.context.console,t)}},s.prototype.resize=function(t,e){var s,i,r,a,o;if(t!==this.cols||e!==this.rows){if(t<1&&(t=1),e<1&&(e=1),r=this.cols,r<t)for(a=[this.defAttr," ",1],i=this.lines.length;i--;)for(;this.lines[i].length<t;)this.lines[i].push(a);else for(i=this.lines.length;i--;)for(;this.lines[i].length>t;)this.lines[i].pop();if(this.setupStops(r),this.cols=t,r=this.rows,o=0,r<e)for(s=this.element;r++<e;)this.lines.length<e+this.ybase&&(this.ybase>0&&this.lines.length<=this.ybase+this.y+o+1?(this.ybase--,o++,this.ydisp>0&&this.ydisp--):this.lines.push(this.blankLine())),this.children.length<e&&this.insertRow();else for(;r-- >e;)if(this.lines.length>e+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++)),this.children.length>e){if(s=this.children.shift(),!s)continue;s.parentNode.removeChild(s)}this.rows=e,this.y>=e&&(this.y=e-1),o&&(this.y+=o),this.x>=t&&(this.x=t-1),this.scrollTop=0,this.scrollBottom=e-1,this.refresh(0,this.rows-1),this.normal=null,this.emit("resize",{terminal:this,cols:t,rows:e})}},s.prototype.updateRange=function(t){t<this.refreshStart&&(this.refreshStart=t),t>this.refreshEnd&&(this.refreshEnd=t)},s.prototype.maxRange=function(){this.refreshStart=0,this.refreshEnd=this.rows-1},s.prototype.setupStops=function(t){for(null!=t?this.tabs[t]||(t=this.prevStop(t)):(this.tabs={},t=0);t<this.cols;t+=8)this.tabs[t]=!0},s.prototype.prevStop=function(t){for(null==t&&(t=this.x);!this.tabs[--t]&&t>0;);return t>=this.cols?this.cols-1:t<0?0:t},s.prototype.nextStop=function(t){for(null==t&&(t=this.x);!this.tabs[++t]&&t<this.cols;);return t>=this.cols?this.cols-1:t<0?0:t},s.prototype.eraseRight=function(t,e){for(var s=this.lines[this.ybase+e],i=[this.eraseAttr()," ",1];t<this.cols;t++)s[t]=i;this.updateRange(e)},s.prototype.eraseLeft=function(t,e){var s=this.lines[this.ybase+e],i=[this.eraseAttr()," ",1];for(t++;t--;)s[t]=i;this.updateRange(e)},s.prototype.eraseLine=function(t){this.eraseRight(0,t)},s.prototype.blankLine=function(t){for(var e=t?this.eraseAttr():this.defAttr,s=[e," ",1],i=[],r=0;r<this.cols;r++)i[r]=s;return i},s.prototype.ch=function(t){return t?[this.eraseAttr()," ",1]:[this.defAttr," ",1]},s.prototype.is=function(t){var e=this.termName;return 0===(e+"").indexOf(t)},s.prototype.handler=function(t){this.emit("data",t)},s.prototype.handleTitle=function(t){this.emit("title",t)},s.prototype.index=function(){this.y++,this.y>this.scrollBottom&&(this.y--,this.scroll()),this.state=d},s.prototype.reverseIndex=function(){var t;this.y--,this.y<this.scrollTop&&(this.y++,this.lines.splice(this.y+this.ybase,0,this.blankLine(!0)),t=this.rows-1-this.scrollBottom,this.lines.splice(this.rows-1+this.ybase-t+1,1),this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)),this.state=d},s.prototype.reset=function(){this.options.rows=this.rows,this.options.cols=this.cols,s.call(this,this.options),this.refresh(0,this.rows-1)},s.prototype.tabSet=function(){this.tabs[this.x]=!0,this.state=d},s.prototype.cursorUp=function(t){var e=t[0];e<1&&(e=1),this.y-=e,this.y<0&&(this.y=0)},s.prototype.cursorDown=function(t){var e=t[0];e<1&&(e=1),this.y+=e,this.y>=this.rows&&(this.y=this.rows-1)},s.prototype.cursorForward=function(t){var e=t[0];e<1&&(e=1),this.x+=e,this.x>=this.cols&&(this.x=this.cols-1)},s.prototype.cursorBackward=function(t){var e=t[0];e<1&&(e=1),this.x-=e,this.x<0&&(this.x=0)},s.prototype.cursorPos=function(t){var e,s;e=t[0]-1,s=t.length>=2?t[1]-1:0,e<0?e=0:e>=this.rows&&(e=this.rows-1),s<0?s=0:s>=this.cols&&(s=this.cols-1),this.x=s,this.y=e},s.prototype.eraseInDisplay=function(t){var e;switch(t[0]){case 0:for(this.eraseRight(this.x,this.y),e=this.y+1;e<this.rows;e++)this.eraseLine(e);break;case 1:for(this.eraseLeft(this.x,this.y),e=this.y;e--;)this.eraseLine(e);break;case 2:for(e=this.rows;e--;)this.eraseLine(e);break;case 3:}},s.prototype.eraseInLine=function(t){switch(t[0]){case 0:this.eraseRight(this.x,this.y);break;case 1:this.eraseLeft(this.x,this.y);break;case 2:this.eraseLine(this.y)}},s.prototype.charAttributes=function(t){if(1===t.length&&0===t[0])return void(this.curAttr=this.defAttr);for(var e,s=t.length,i=0,r=this.curAttr>>18,a=this.curAttr>>9&511,o=511&this.curAttr;i<s;i++)e=t[i],e>=30&&e<=37?a=e-30:e>=40&&e<=47?o=e-40:e>=90&&e<=97?(e+=8,a=e-90):e>=100&&e<=107?(e+=8,o=e-100):0===e?(r=this.defAttr>>18,a=this.defAttr>>9&511,o=511&this.defAttr):1===e?r|=1:4===e?r|=2:5===e?r|=4:7===e?r|=8:8===e?r|=16:22===e?r&=-2:24===e?r&=-3:25===e?r&=-5:27===e?r&=-9:28===e?r&=-17:39===e?a=this.defAttr>>9&511:49===e?o=511&this.defAttr:38===e?2===t[i+1]?(i+=2,a=c(255&t[i],255&t[i+1],255&t[i+2]),a===-1&&(a=511),i+=2):5===t[i+1]&&(i+=2,e=255&t[i],a=e):48===e?2===t[i+1]?(i+=2,o=c(255&t[i],255&t[i+1],255&t[i+2]),o===-1&&(o=511),i+=2):5===t[i+1]&&(i+=2,e=255&t[i],o=e):100===e?(a=this.defAttr>>9&511,o=511&this.defAttr):this.error("Unknown SGR attribute: %d.",e);this.curAttr=r<<18|a<<9|o},s.prototype.deviceStatus=function(t){if(this.prefix){if("?"===this.prefix)switch(t[0]){case 6:this.send("[?"+(this.y+1)+";"+(this.x+1)+"R");break;case 15:break;case 25:break;case 26:break;case 53:}}else switch(t[0]){case 5:this.send("[0n");break;case 6:this.send("["+(this.y+1)+";"+(this.x+1)+"R")}},s.prototype.insertChars=function(t){var e,s,i,r;for(e=t[0],e<1&&(e=1),s=this.y+this.ybase,i=this.x,r=[this.eraseAttr()," ",1];e--&&i<this.cols;)this.lines[s].splice(i++,0,r),this.lines[s].pop()},s.prototype.cursorNextLine=function(t){var e=t[0];e<1&&(e=1),this.y+=e,this.y>=this.rows&&(this.y=this.rows-1),this.x=0},s.prototype.cursorPrecedingLine=function(t){var e=t[0];e<1&&(e=1),this.y-=e,this.y<0&&(this.y=0),this.x=0},s.prototype.cursorCharAbsolute=function(t){var e=t[0];e<1&&(e=1),this.x=e-1},s.prototype.insertLines=function(t){var e,s,i;for(e=t[0],e<1&&(e=1),s=this.y+this.ybase,i=this.rows-1-this.scrollBottom,i=this.rows-1+this.ybase-i+1;e--;)this.lines.splice(s,0,this.blankLine(!0)),this.lines.splice(i,1);this.updateRange(this.y),this.updateRange(this.scrollBottom)},s.prototype.deleteLines=function(t){var e,s,i;for(e=t[0],e<1&&(e=1),s=this.y+this.ybase,i=this.rows-1-this.scrollBottom,i=this.rows-1+this.ybase-i;e--;)this.lines.splice(i+1,0,this.blankLine(!0)),this.lines.splice(s,1);this.updateRange(this.y),this.updateRange(this.scrollBottom)},s.prototype.deleteChars=function(t){var e,s,i;for(e=t[0],e<1&&(e=1),s=this.y+this.ybase,i=[this.eraseAttr()," ",1];e--;)this.lines[s].splice(this.x,1),this.lines[s].push(i)},s.prototype.eraseChars=function(t){var e,s,i,r;for(e=t[0],e<1&&(e=1),s=this.y+this.ybase,i=this.x,r=[this.eraseAttr()," ",1];e--&&i<this.cols;)this.lines[s][i++]=r},s.prototype.charPosAbsolute=function(t){var e=t[0];e<1&&(e=1),this.x=e-1,this.x>=this.cols&&(this.x=this.cols-1)},s.prototype.HPositionRelative=function(t){var e=t[0];e<1&&(e=1),this.x+=e,this.x>=this.cols&&(this.x=this.cols-1)},s.prototype.sendDeviceAttributes=function(t){t[0]>0||(this.prefix?">"===this.prefix&&(this.is("xterm")?this.send("[>0;276;0c"):this.is("rxvt-unicode")?this.send("[>85;95;0c"):this.is("linux")?this.send(t[0]+"c"):this.is("screen")&&this.send("[>83;40003;0c")):this.is("xterm")||this.is("rxvt-unicode")||this.is("screen")?this.send("[?1;2c"):this.is("linux")&&this.send("[?6c"))},s.prototype.linePosAbsolute=function(t){var e=t[0];e<1&&(e=1),this.y=e-1,this.y>=this.rows&&(this.y=this.rows-1)},s.prototype.VPositionRelative=function(t){var e=t[0];e<1&&(e=1),this.y+=e,this.y>=this.rows&&(this.y=this.rows-1)},s.prototype.HVPosition=function(t){t[0]<1&&(t[0]=1),t[1]<1&&(t[1]=1),this.y=t[0]-1,this.y>=this.rows&&(this.y=this.rows-1),this.x=t[1]-1,this.x>=this.cols&&(this.x=this.cols-1)},s.prototype.setScrollRegion=function(t){this.prefix||(this.scrollTop=(t[0]||1)-1,this.scrollBottom=(t[1]||this.rows)-1,this.x=0,this.y=0)},s.prototype.saveCursor=function(t){this.savedX=this.x,this.savedY=this.y},s.prototype.restoreCursor=function(t){this.x=this.savedX||0,this.y=this.savedY||0},s.prototype.cursorForwardTab=function(t){for(var e=t[0]||1;e--;)this.x=this.nextStop()},s.prototype.scrollUp=function(t){for(var e=t[0]||1;e--;)this.lines.splice(this.ybase+this.scrollTop,1),this.lines.splice(this.ybase+this.scrollBottom,0,this.blankLine());this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)},s.prototype.scrollDown=function(t){for(var e=t[0]||1;e--;)this.lines.splice(this.ybase+this.scrollBottom,1),this.lines.splice(this.ybase+this.scrollTop,0,this.blankLine());this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)},s.prototype.initMouseTracking=function(t){},s.prototype.resetTitleModes=function(t){},s.prototype.cursorBackwardTab=function(t){for(var e=t[0]||1;e--;)this.x=this.prevStop()},s.prototype.repeatPrecedingCharacter=function(t){for(var e=t[0]||1,s=this.lines[this.ybase+this.y],i=s[this.x-1]||[this.defAttr," ",1];e--;)s[this.x++]=i},s.prototype.tabClear=function(t){var e=t[0];e<=0?delete this.tabs[this.x]:3===e&&(this.tabs={})},s.prototype.mediaCopy=function(t){},s.prototype.setResources=function(t){},s.prototype.disableModifiers=function(t){},
s.prototype.setPointerMode=function(t){},s.prototype.softReset=function(t){this.cursorHidden=!1,this.insertMode=!1,this.originMode=!1,this.wraparoundMode=!1,this.applicationKeypad=!1,this.applicationCursor=!1,this.scrollTop=0,this.scrollBottom=this.rows-1,this.curAttr=this.defAttr,this.x=this.y=0,this.charset=null,this.glevel=0,this.charsets=[null]},s.prototype.requestAnsiMode=function(t){},s.prototype.requestPrivateMode=function(t){},s.prototype.setConformanceLevel=function(t){},s.prototype.loadLEDs=function(t){},s.prototype.setCursorStyle=function(t){},s.prototype.setCharProtectionAttr=function(t){},s.prototype.restorePrivateValues=function(t){},s.prototype.setAttrInRectangle=function(t){for(var e,s,i=t[0],r=t[1],a=t[2],o=t[3],n=t[4];i<a+1;i++)for(e=this.lines[this.ybase+i],s=r;s<o;s++)e[s]=[n,e[s][1]];this.updateRange(t[0]),this.updateRange(t[2])},s.prototype.fillRectangle=function(t){for(var e,s,i=t[0],r=t[1],a=t[2],o=t[3],n=t[4];r<o+1;r++)for(e=this.lines[this.ybase+r],s=a;s<n;s++)e[s]=[e[s][0],x.fromCharCode(i)];this.updateRange(t[1]),this.updateRange(t[3])},s.prototype.enableLocatorReporting=function(t){t[0]>0},s.prototype.eraseRectangle=function(t){var e,s,i,r=t[0],a=t[1],o=t[2],n=t[3];for(i=[this.eraseAttr()," ",1];r<o+1;r++)for(e=this.lines[this.ybase+r],s=a;s<n;s++)e[s]=i;this.updateRange(t[0]),this.updateRange(t[2])},s.prototype.insertColumns=function(){for(var t,e=params[0],s=this.ybase+this.rows,i=[this.eraseAttr()," ",1];e--;)for(t=this.ybase;t<s;t++)this.lines[t].splice(this.x+1,0,i),this.lines[t].pop();this.maxRange()},s.prototype.deleteColumns=function(){for(var t,e=params[0],s=this.ybase+this.rows,i=[this.eraseAttr()," ",1];e--;)for(t=this.ybase;t<s;t++)this.lines[t].splice(this.x,1),this.lines[t].push(i);this.maxRange()},s.charsets={},s.charsets.SCLD={"`":"â—†",a:"â–’",b:"\t",c:"\f",d:"\r",e:"\n",f:"Â°",g:"Â±",h:"â¤",i:"\x0B",j:"â”˜",k:"â”",l:"â”Œ",m:"â””",n:"â”¼",o:"âŽº",p:"âŽ»",q:"â”€",r:"âŽ¼",s:"âŽ½",t:"â”œ",u:"â”¤",v:"â”´",w:"â”¬",x:"â”‚",y:"â‰¤",z:"â‰¥","{":"Ï€","|":"â‰ ","}":"Â£","~":"Â·"},s.charsets.UK=null,s.charsets.US=null,s.charsets.Dutch=null,s.charsets.Finnish=null,s.charsets.French=null,s.charsets.FrenchCanadian=null,s.charsets.German=null,s.charsets.Italian=null,s.charsets.NorwegianDanish=null,s.charsets.Spanish=null,s.charsets.Swedish=null,s.charsets.Swiss=null,s.charsets.ISOLatin=null;var x=this.String,k=this.setTimeout;this.setInterval;c._cache={},c.distance=function(t,e,s,i,r,a){return Math.pow(30*(t-i),2)+Math.pow(59*(e-r),2)+Math.pow(11*(s-a),2)};var E=function(t){function e(t){var e,s=0,r=i.length-1;if(t<i[0][0]||t>i[r][1])return!1;for(;r>=s;)if(e=Math.floor((s+r)/2),t>i[e][1])s=e+1;else{if(!(t<i[e][0]))return!0;r=e-1}return!1}function s(s){return 0===s?t.nul:s<32||s>=127&&s<160?t.control:e(s)?0:1+(s>=4352&&(s<=4447||9001==s||9002==s||s>=11904&&s<=42191&&12351!=s||s>=44032&&s<=55203||s>=63744&&s<=64255||s>=65040&&s<=65049||s>=65072&&s<=65135||s>=65280&&s<=65376||s>=65504&&s<=65510||s>=131072&&s<=196605||s>=196608&&s<=262141))}var i=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];return s}({nul:0,control:0});return s.EventEmitter=t,s.Viewport=e,s.inherits=f,s.on=a,s.off=o,s.cancel=n,s}.call(window)},function(t,e,s){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var n=s(2),f=i(n),h=f["default"].EventEmitter,c=function(t){function e(){return r(this,e),a(this,t.call(this))}return o(e,t),e.prototype.set=function(t,e){var s=this.data||(this.data={}),i=this.get(t);s[t]=e,i!==e&&this.onChange&&this.onChange(t,e)},e.prototype.get=function(t){return this.data&&this.data[t]},e}(h);e["default"]=c},function(t,e){t.exports='<div class="ttyplayer" ref="container">\n<header class="ttyplayer-header"><a href="https://meowtec.github.io/ttyplayer.js/" target="_blank">TTYPlayer</a></header>\n<div class="ttyplayer-body" ref="body"></div>\n<footer class="ttyplayer-footer">\n<button class="tty-play tty-hide" ref="playButton">\n<i></i>\n<span>play</span>\n</button>\n<button class="tty-pause tty-hide" ref="pauseButton">\n<i></i>\n<span>pause</span>\n</button>\n<div class="tty-button-wrap">\n<div class="tty-select-wrap" ref="speedSelect">\n<div class="tty-select">\n<a href="#" data-value="8">8x</a>\n<a href="#" data-value="4">4x</a>\n<a href="#" data-value="2">2x</a>\n<a href="#" data-value="1">1x</a>\n<a href="#" data-value="0.5">0.5x</a>\n<a href="#" data-value="0.25">0.25x</a>\n</div>\n</div>\n<button class="tty-speed" ref="speedButton">\n1x\n</button>\n</div>\n</footer>\n</div>\n'},function(t,e){"use strict";var s=[["2e3436","cc0000","4e9a06","c4a000","3465a4","75507b","06989a","d3d7cf","555753","ef2929","8ae234","fce94f","729fcf","ad7fa8","34e2e2","eeeeec","000000","00005f","000087","0000af","0000d7","0000ff","005f00","005f5f","005f87","005faf","005fd7","005fff","008700","00875f","008787","0087af","0087d7","0087ff","00af00","00af5f","00af87","00afaf","00afd7","00afff","00d700","00d75f","00d787","00d7af","00d7d7","00d7ff","00ff00","00ff5f","00ff87","00ffaf","00ffd7","00ffff","5f0000","5f005f","5f0087","5f00af","5f00d7","5f00ff","5f5f00","5f5f5f","5f5f87","5f5faf","5f5fd7","5f5fff","5f8700","5f875f","5f8787","5f87af","5f87d7","5f87ff","5faf00","5faf5f","5faf87","5fafaf","5fafd7","5fafff","5fd700","5fd75f","5fd787","5fd7af","5fd7d7","5fd7ff","5fff00","5fff5f","5fff87","5fffaf","5fffd7","5fffff","870000","87005f","870087","8700af","8700d7","8700ff","875f00","875f5f","875f87","875faf","875fd7","875fff","878700","87875f","878787","8787af","8787d7","8787ff","87af00","87af5f","87af87","87afaf","87afd7","87afff","87d700","87d75f","87d787","87d7af","87d7d7","87d7ff","87ff00","87ff5f","87ff87","87ffaf","87ffd7","87ffff","af0000","af005f","af0087","af00af","af00d7","af00ff","af5f00","af5f5f","af5f87","af5faf","af5fd7","af5fff","af8700","af875f","af8787","af87af","af87d7","af87ff","afaf00","afaf5f","afaf87","afafaf","afafd7","afafff","afd700","afd75f","afd787","afd7af","afd7d7","afd7ff","afff00","afff5f","afff87","afffaf","afffd7","afffff","d70000","d7005f","d70087","d700af","d700d7","d700ff","d75f00","d75f5f","d75f87","d75faf","d75fd7","d75fff","d78700","d7875f","d78787","d787af","d787d7","d787ff","d7af00","d7af5f","d7af87","d7afaf","d7afd7","d7afff","d7d700","d7d75f","d7d787","d7d7af","d7d7d7","d7d7ff","d7ff00","d7ff5f","d7ff87","d7ffaf","d7ffd7","d7ffff","ff0000","ff005f","ff0087","ff00af","ff00d7","ff00ff","ff5f00","ff5f5f","ff5f87","ff5faf","ff5fd7","ff5fff","ff8700","ff875f","ff8787","ff87af","ff87d7","ff87ff","ffaf00","ffaf5f","ffaf87","ffafaf","ffafd7","ffafff","ffd700","ffd75f","ffd787","ffd7af","ffd7d7","ffd7ff","ffff00","ffff5f","ffff87","ffffaf","ffffd7","ffffff","080808","121212","1c1c1c","262626","303030","3a3a3a","444444","4e4e4e","585858","626262","6c6c6c","767676","808080","8a8a8a","949494","9e9e9e","a8a8a8","b2b2b2","bcbcbc","c6c6c6","d0d0d0","dadada","e4e4e4","eeeeee"],["2e3436","cc0000","4e9a06","c4a000","3465a4","75507b","06989a","d3d7cf","555753","ef2929","8ae234","fce94f","729fcf","ad7fa8","34e2e2","eeeeec","000000","00005f","000087","0000af","0000d7","0000ff","005f00","005f5f","005f87","005faf","005fd7","005fff","008700","00875f","008787","0087af","0087d7","0087ff","00af00","00af5f","00af87","00afaf","00afd7","00afff","00d700","00d75f","00d787","00d7af","00d7d7","00d7ff","00ff00","00ff5f","00ff87","00ffaf","00ffd7","00ffff","5f0000","5f005f","5f0087","5f00af","5f00d7","5f00ff","5f5f00","5f5f5f","5f5f87","5f5faf","5f5fd7","5f5fff","5f8700","5f875f","5f8787","5f87af","5f87d7","5f87ff","5faf00","5faf5f","5faf87","5fafaf","5fafd7","5fafff","5fd700","5fd75f","5fd787","5fd7af","5fd7d7","5fd7ff","5fff00","5fff5f","5fff87","5fffaf","5fffd7","5fffff","870000","87005f","870087","8700af","8700d7","8700ff","875f00","875f5f","875f87","875faf","875fd7","875fff","878700","87875f","878787","8787af","8787d7","8787ff","87af00","87af5f","87af87","87afaf","87afd7","87afff","87d700","87d75f","87d787","87d7af","87d7d7","87d7ff","87ff00","87ff5f","87ff87","87ffaf","87ffd7","87ffff","af0000","af005f","af0087","af00af","af00d7","af00ff","af5f00","af5f5f","af5f87","af5faf","af5fd7","af5fff","af8700","af875f","af8787","af87af","af87d7","af87ff","afaf00","afaf5f","afaf87","afafaf","afafd7","afafff","afd700","afd75f","afd787","afd7af","afd7d7","afd7ff","afff00","afff5f","afff87","afffaf","afffd7","afffff","d70000","d7005f","d70087","d700af","d700d7","d700ff","d75f00","d75f5f","d75f87","d75faf","d75fd7","d75fff","d78700","d7875f","d78787","d787af","d787d7","d787ff","d7af00","d7af5f","d7af87","d7afaf","d7afd7","d7afff","d7d700","d7d75f","d7d787","d7d7af","d7d7d7","d7d7ff","d7ff00","d7ff5f","d7ff87","d7ffaf","d7ffd7","d7ffff","ff0000","ff005f","ff0087","ff00af","ff00d7","ff00ff","ff5f00","ff5f5f","ff5f87","ff5faf","ff5fd7","ff5fff","ff8700","ff875f","ff8787","ff87af","ff87d7","ff87ff","ffaf00","ffaf5f","ffaf87","ffafaf","ffafd7","ffafff","ffd700","ffd75f","ffd787","ffd7af","ffd7d7","ffd7ff","ffff00","ffff5f","ffff87","ffffaf","ffffd7","ffffff","080808","121212","1c1c1c","262626","303030","3a3a3a","444444","4e4e4e","585858","626262","6c6c6c","767676","808080","8a8a8a","949494","9e9e9e","a8a8a8","b2b2b2","bcbcbc","c6c6c6","d0d0d0","dadada","e4e4e4","eeeeee"]],i=s[0].map(function(t,e){return"\n  .terminal .xc-"+e+" {\n    color: #"+t+";\n  }\n"}).join("\n")+s[1].map(function(t,e){return"\n  .terminal .xbc-"+e+" {\n    background-color: #"+t+";\n  }\n"}).join("\n"),r=document.createElement("style");r.setAttribute("type","text/css"),r.textContent=i,document.head.appendChild(r)},function(t,e,s){"use strict";function i(t){for(var e=[],s=0,i=t.byteLength,a=new DataView(t);s<i;){var o=a.getUint32(s,!0);s+=4;var n=a.getUint32(s,!0);s+=4;var f=a.getUint32(s,!0);s+=4,e.push({time:1e3*o+n/1e3,content:(0,r.readUtf8)(t,s,f)}),s+=f}return e}e.__esModule=!0,e["default"]=i;var r=s(1)},function(t,e,s){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var n=s(10),f=i(n),h=s(2),c=i(h),l=s(1),p=c["default"].EventEmitter,u=function(t){function e(s){r(this,e);var i=a(this,t.call(this)),o=new c["default"](s);return o.open(),i.term=o,i}return o(e,t),e.prototype.atEnd=function(){return this.step===this.frames.length},e.prototype.play=function(t){t&&(this.frames=t),this.term.reset(),this.step=0,this.renderFrame(),this.emit("play")},e.prototype.pause=function(){this._nextTimer.pause(),this.emit("pause")},e.prototype.resume=function(){this._nextTimer.resume(),this.emit("play")},e.prototype.renderFrame=function(){var t=this.step,e=this.frames,s=e[t],i=e[t+1],r=s.content;"[?1h="!==r&&this.term.write(r),this.step=t+1,this.next(s,i)},e.prototype.next=function(t,e){var s=this;e?this._nextTimer=new f["default"](function(t){return s.renderFrame()},e.time-t.time,this.speed):this.repeat?this._nextTimer=new f["default"](function(t){return s.play()},this.interval,this.speed):this.emit("end")},e.prototype.destroy=function(){this.term.destroy(),this.removeAllListeners(),this._nextTimer&&this._nextTimer.clear()},e}(p);e["default"]=u,(0,l.assign)(u.prototype,{speed:1,repeat:!0,interval:3e3}),u.Terminal=c["default"]},function(t,e,s){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,s(12);var n=s(7),f=i(n),h=s(9),c=i(h),l=s(3),p=i(l),u=s(6),d=i(u),y=s(1),b=s(4),m=i(b),v=80,g=20,w=function(t){function e(s){r(this,e);var i=a(this,t.call(this)),o=(0,y.assign)({},s);return o.rows||(o.rows=g),o.cols||(o.cols=v),i.options=o,i.mount(s.parent),i.createCorePlayer(),i.delegate(),i.createSpeedSelect(),i.bindEvent(),i.set("isPlaying",!1),i}return o(e,t),e.prototype.onChange=function(t,e){if("isPlaying"===t)return this.refs.playButton.classList[e?"add":"remove"]("tty-hide"),void this.refs.pauseButton.classList[e?"remove":"add"]("tty-hide")},e.prototype.mount=function(t){var e=(0,y.element)(m["default"]),s=e.element,i=e.refs;t.appendChild(s),this.element=s,this.parentNode=t,this.options.parent=i.body,this.refs=i},e.prototype.unmount=function(){this.parentNode.removeChild(this.element)},e.prototype.delegate=function(){var t=this,e=this.player;["play","resume","pause"].forEach(function(s){t[s]=e[s].bind(e)})},e.prototype.bindEvent=function(){var t=this;this.refs.playButton.addEventListener("click",this.resume),this.refs.pauseButton.addEventListener("click",this.pause),this.player.on("play",function(){t.set("isPlaying",!0)}),this.player.on("pause",function(){t.set("isPlaying",!1)}),this.speedSelect.on("change",function(e){t.player.speed=e})},e.prototype.unbindEvent=function(){this.refs.playButton.removeEventListener("click",this.resume),this.refs.pauseButton.removeEventListener("click",this.pause)},e.prototype.createCorePlayer=function(){this.player=new f["default"](this.options)},e.prototype.createSpeedSelect=function(){this.speedSelect=new c["default"](this.refs.speedButton,this.refs.speedSelect)},e.prototype.load=function(t){var e=this;(0,y.fetchArrayBuffer)(t,function(t,s){if(t)return e.emit("loadError",t);var i=void 0;try{i=(0,d["default"])(s)}catch(t){return console.error(t),e.emit("loadError",t)}e.play(i)})},e.prototype.destroy=function(){this.player.destroy(),this.speedSelect.destroy(),this.unbindEvent(),this.removeAllListeners(),this.unmount()},e}(p["default"]);e["default"]=w,w.VERSION="0.2.2",w.Core=f["default"],w.Terminal=f["default"].Terminal},function(t,e,s){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var n=s(3),f=i(n),h=s(1),c=function(t){function e(s,i){r(this,e);var o=a(this,t.call(this));return o.trigger=s,o.selector=i,o.bindEvents(),o.set("active",!1),o}return o(e,t),e.prototype.bindEvents=function(){var t=this;["triggerClick","listClick","docClick"].forEach(function(e){t[e]=t[e].bind(t)}),this.trigger.addEventListener("click",this.triggerClick,!1),this.selector.addEventListener("click",this.listClick,!1),document.addEventListener("click",this.docClick,!1)},e.prototype.unbindEvents=function(){this.trigger.removeEventListener("click",this.triggerClick,!1),this.selector.removeEventListener("click",this.listClick,!1),document.removeEventListener("click",this.docClick,!1)},e.prototype.triggerClick=function(t){t.stopPropagation(),this.set("active",!this.get("active"))},e.prototype.listClick=function(t){t.preventDefault();var e=(0,h.closet)(t.target,function(t){return t.dataset.value});e&&this.select(e)},e.prototype.docClick=function(){this.set("active",!1)},e.prototype.select=function(t){var e=void 0;if(e=t.tagName?t:this.selector.querySelector('[data-value="'+t+'"]')){var s=e.dataset.value,i=e.textContent;this.set("value",s),this.set("text",i)}},e.prototype.onChange=function(t,e){return"active"===t?void(e?this.selector.classList.remove("tty-hide"):this.selector.classList.add("tty-hide")):"value"===t?void this.emit("change",e):void("text"===t&&(this.trigger.textContent=e))},e.prototype.destroy=function(){this.unbindEvents(),this.removeAllListeners()},e}(f["default"]);e["default"]=c},function(t,e,s){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,s,i){return s&&t(e.prototype,s),i&&t(e,i),e}}(),a=(s(1),function(){function t(e,s){var r=arguments.length<=2||void 0===arguments[2]?1:arguments[2];i(this,t),this._rate=r,this._setTimeout(e,s)}return t.prototype._setTimeout=function(t,e){var s=this;this._timer=setTimeout(function(){t(),s._finish=!0,s._rest=null},e/this._rate),this._finish=!1,this._time=e,this._startTime=new Date,this._callback=t,this._rest=null},t.prototype.pause=function(){clearTimeout(this._timer),this._rest=this.rest},t.prototype.resume=function(){null!=this._rest&&this._setTimeout(this._callback,this._rest)},t.prototype.clear=function(){this.pause(),this._rest=null},r(t,[{key:"rate",set:function(t){this._rate=t,null==this._rest&&(this.pause(),this.resume())}},{key:"rest",get:function(){if(this.finish)return 0;if(this._rest)return this._rest;var t=this._time-(new Date-this._startTime);return t>0?t:0}},{key:"finish",get:function(){return this._finish}}]),t}());e["default"]=a},function(t,e){},function(t,e){}])});